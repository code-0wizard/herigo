    <% @heritages.each do |heritage|%>
      <% if !heritage.lat.nil? %>
        ( function() { 
          let markerLatLng = { lat: <%= heritage.lat %>, lng: <%= heritage.lng %> };
          const heritageTag = document.createElement("div");
          heritageTag.className = "heritage-pin";
          heritageTag.textContent = "hoge";
          let marker = new google.maps.marker.AdvancedMarkerView({
            position: markerLatLng, 
            map: map,
            content: heritageTag
          });
          //マーカーをクリックしたとき、詳細情報を表示
          let infowindow = new google.maps.InfoWindow({
            position: markerLatLng,
            content: "hoge"
          }); //ここで詳細ページへのリンクを表示させる
          marker.addListener('mouseover', function() {
            infowindow.open(map, marker);
          });
       })();
       <% end %>
    <% end %>