<div>
  <span class="star" id="1" value="1">★</span>
  <span class="star" id="2" value="2">★</span>
  <span class="star" id="3" value="3">★</span>
  <span class="star" id="4" value="4">★</span>
  <span class="star" id="5" value="5">★</span>
  <span class="score" id="review-score-value">0</span>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
  // 星評価
    var stars = document.getElementsByClassName("star");
    var clicked = false;
    var reviewScoreField = document.getElementById('review-score-field');
    var reviewScoreValue = document.getElementById('review-score-value');

    for (let i = 0; i < stars.length; i++) {
      stars[i].addEventListener(
        "mouseover",
        () => {
          if (!clicked) {
            for (let j = 0; j <= i; j++) {
              stars[j].style.color = "#FF9900";
            }
          }
        },
        false
      );

      stars[i].addEventListener(
        "mouseout",
        () => {
          if (!clicked) {
            for (let j = 0; j < stars.length; j++) {
              stars[j].style.color = "#a09a9a";
            }
          }
        },
        false
      );

      stars[i].addEventListener(
        "click",
        () => {
          clicked = true;
          for (let j = 0; j <= i; j++) {
            stars[j].style.color = "#FF9900";
            score = stars[j].getAttribute('value');
            reviewScoreField.value = score;
            reviewScoreValue.textContent = score;
          }
          for (let j = i + 1; j < stars.length; j++) {
            stars[j].style.color = "#a09a9a";
          }
        },
        false
      );
    };
  });
</script>
