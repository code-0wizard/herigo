<%= image_tag "review_score/score0.png", size: "100x20", class: "score-img", id: "score-img-#{heritage.id}" %>
<span class="score-value" id="score-value-<%= heritage.id %>" data-score="<%= calc_average_review_score(heritage.id) %>">
  <%= calc_average_review_score(heritage.id) %>
</span>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var scoreElement = document.getElementById("score-value-<%= heritage.id %>");
    var imgElement = document.getElementById("score-img-<%= heritage.id %>");
    var score = scoreElement.dataset.score;    
    if (score && imgElement) {
      if (score >= 0.5 && score < 1) {
          imgElement.src = "/assets/review_score/score05.png";
      } else if (score >= 1 && score < 1.5) {
          imgElement.src = "/assets/review_score/score10.png";
      } else if (score >= 1.5 && score < 2) {
          imgElement.src = "/assets/review_score/score15.png";
      } else if (score >= 2 && score < 2.5) {
          imgElement.src = "/assets/review_score/score20.png";
      } else if (score >= 2.5 && score < 3) {
          imgElement.src = "/assets/review_score/score25.png";
      } else if (score >= 3 && score < 3.5) {
          imgElement.src = "/assets/review_score/score30.png";
      } else if (score >= 3.5 && score < 4) {
          imgElement.src = "/assets/review_score/score35.png";
      } else if (score >= 4 && score < 4.5) {
          imgElement.src = "/assets/review_score/score40.png";
      } else if (score >= 4.5 && score < 5) {
          imgElement.src = "/assets/review_score/score45.png";
      } else if (score == 5) {
          imgElement.src = "/assets/review_score/score50.png";
      }
    }
  });
</script>
